ROOT := ../../

include $(TOP)$(ROOT)config/global.mk

ifneq ($(HB_PLATFORM),wce)
   ifneq ($(HB_COMPILER),pcc)
      HB_PRGFLAGS += -gc3
   endif
endif

CPP_SOURCES := \
   abs.cpp \
   accept.cpp \
   ampm.cpp \
   arc4.cpp \
   at.cpp \
   ati.cpp \
   base64c.cpp \
   base64d.cpp \
   binnum.cpp \
   box.cpp \
   cdpapi.cpp \
   cdpapihb.cpp \
   cdpbox.cpp \
   cdpdetc.cpp \
   chrasc.cpp \
   chruni.cpp \
   colorind.cpp \
   console.cpp \
   copyfile.cpp \
   cputime.cpp \
   datec.cpp \
   dates.cpp \
   dateshb.cpp \
   datesx.cpp \
   defpath.cpp \
   defpathu.cpp \
   descend.cpp \
   dirdrive.cpp \
   direct.cpp \
   diskspac.cpp \
   disksphb.cpp \
   do.cpp \
   empty.cpp \
   errapi.cpp \
   errapiu.cpp \
   errint.cpp \
   errintlo.cpp \
   file.cpp \
   filebuf.cpp \
   filebufd.cpp \
   filehb.cpp \
   filesys.cpp \
   fkmax.cpp \
   fmhb.cpp \
   fnsplit.cpp \
   fscopy.cpp \
   fserr.cpp \
   fslink.cpp \
   fssize.cpp \
   fstemp.cpp \
   gete.cpp \
   gt.cpp \
   gtapi.cpp \
   gtchrmap.cpp \
   gtclip.cpp \
   gtfunc.cpp \
   gtkbstat.cpp \
   gtkeycod.cpp \
   gtsys.cpp \
   gttone.cpp \
   gx.cpp \
   hardcr.cpp \
   hbadler.cpp \
   hbascii.cpp \
   hbbffnc.cpp \
   hbbfish.cpp \
   hbbfsock.cpp \
   hbbit.cpp \
   hbbyte.cpp \
   hbcom.cpp \
   hbcomhb.cpp \
   hbcrc.cpp \
   hbdef.cpp \
   hbdyn.cpp \
   hbdynhb.cpp \
   hbfeof.cpp \
   hbfile.cpp \
   hbfilehc.cpp \
   hbgtcore.cpp \
   hbhex.cpp \
   hbi18n1.cpp \
   hbinet.cpp \
   hbinetz.cpp \
   hbjson.cpp \
   hblpp.cpp \
   hblpphb.cpp \
   hbmd5.cpp \
   hbmd5enc.cpp \
   hbntos.cpp \
   hbproces.cpp \
   hbprocfn.cpp \
   hbrand.cpp \
   hbrandom.cpp \
   hbregex.cpp \
   hbregexc.cpp \
   hbrunfun.cpp \
   hbsha1.cpp \
   hbsha1hm.cpp \
   hbsha2.cpp \
   hbsha2hm.cpp \
   hbsocket.cpp \
   hbsockhb.cpp \
   hbstrfmt.cpp \
   hbstrsh.cpp \
   hbtoken.cpp \
   hbzlib.cpp \
   hbzlibc.cpp \
   hbzlibgz.cpp \
   hbznet.cpp \
   hbzsock.cpp \
   idle.cpp \
   inkey.cpp \
   inkeyapi.cpp \
   iousr.cpp \
   is.cpp \
   isprint.cpp \
   itemseri.cpp \
   lang.cpp \
   langapi.cpp \
   left.cpp \
   len.cpp \
   lennum.cpp \
   libnamec.cpp \
   math.cpp \
   maxrow.cpp \
   memofile.cpp \
   minmax.cpp \
   mlcfunc.cpp \
   mod.cpp \
   mouse53.cpp \
   mouseapi.cpp \
   mousehb.cpp \
   mtran.cpp \
   natmsg.cpp \
   natmsgu.cpp \
   net.cpp \
   netusr.cpp \
   oemansi.cpp \
   oldbox.cpp \
   oldclear.cpp \
   pad.cpp \
   padx.cpp \
   philes.cpp \
   philes53.cpp \
   rat.cpp \
   replic.cpp \
   right.cpp \
   round.cpp \
   rtlshort.cpp \
   run.cpp \
   samples.cpp \
   saverest.cpp \
   scroll.cpp \
   scrrow.cpp \
   seconds.cpp \
   setcolor.cpp \
   setcurs.cpp \
   setkey.cpp \
   setpos.cpp \
   setposbs.cpp \
   sha1.cpp \
   sha1hmac.cpp \
   sha2.cpp \
   sha2hmac.cpp \
   shadow.cpp \
   shadowu.cpp \
   soundex.cpp \
   space.cpp \
   spfiles.cpp \
   str.cpp \
   strc.cpp \
   strcase.cpp \
   strclear.cpp \
   strmatch.cpp \
   strrepl.cpp \
   strtoexp.cpp \
   strtran.cpp \
   strutf8.cpp \
   strxor.cpp \
   strzero.cpp \
   stuff.cpp \
   substr.cpp \
   tone.cpp \
   trace.cpp \
   transfrm.cpp \
   trim.cpp \
   tscalara.cpp \
   tscalarb.cpp \
   tscalarc.cpp \
   tscalard.cpp \
   tscalarh.cpp \
   tscalarl.cpp \
   tscalarn.cpp \
   tscalarp.cpp \
   tscalars.cpp \
   tscalart.cpp \
   tscalaru.cpp \
   type.cpp \
   val.cpp \
   valtostr.cpp \
   valtype.cpp \
   version.cpp \
   vfile.cpp \
   word.cpp \
   xhelp.cpp \
   xsavescr.cpp \

PRG_SOURCES := \
   achoice.prg \
   adir.prg \
   alert.prg \
   altd.prg \
   browdb.prg \
   browse.prg \
   cdpdet.prg \
   checkbox.prg \
   color53.prg \
   dbedit.prg \
   devoutp.prg \
   dircmd.prg \
   dirscan.prg \
   einstv52.prg \
   einstvar.prg \
   einstvau.prg \
   errsys.prg \
   getlist.prg \
   getsys.prg \
   getsys53.prg \
   getsyshb.prg \
   gui.prg \
   hbdoc.prg \
   hbfilehi.prg \
   hbi18n2.prg \
   hbini.prg \
   input.prg \
   langcomp.prg \
   langlgcy.prg \
   libname.prg \
   listbox.prg \
   memoedit.prg \
   memvarhb.prg \
   menuto.prg \
   menusys.prg \
   objfunc.prg \
   perfuncs.prg \
   profiler.prg \
   pushbtn.prg \
   radiobhb.prg \
   radiobtn.prg \
   radiogrp.prg \
   readkey.prg \
   readvar.prg \
   savebuff.prg \
   scrollbr.prg \
   setfunc.prg \
   setta.prg \
   tclass.prg \
   tbcolumn.prg \
   tbrowse.prg \
   tbrowsys.prg \
   teditor.prg \
   text.prg \
   tget.prg \
   tgethb.prg \
   tgetint.prg \
   tgetlist.prg \
   tlabel.prg \
   tmenuitm.prg \
   tmenusys.prg \
   tobject.prg \
   tpersist.prg \
   tpopup.prg \
   tpopuphb.prg \
   treport.prg \
   tscalar.prg \
   tsymbol.prg \
   ttextlin.prg \
   ttopbar.prg \
   typefile.prg \
   valtoexp.prg \
   vfilehi.prg \
   wait.prg \

LIBNAME := hbrtl

DIRS := \
   gtcgi \
   gtcrs \
   gtgui \
   gtpca \
   gtsln \
   gtstd \
   gttrm \
   gtwin \
   gtwvt \
   gtxwc \

ifneq ($(HB_HAS_ZLIB),)

   ifneq ($(HB_HAS_PCRE),)
      HB_CFLAGS += -DHB_HAS_PCRE $(foreach d,$(HB_HAS_PCRE),-I$(d))
      ifneq ($(HB_HAS_PCRE_LOCAL),)
         HB_CFLAGS += -DPCRE_STATIC
      endif
   endif
   ifneq ($(HB_HAS_ZLIB),)
      HB_CFLAGS += -DHB_HAS_ZLIB $(foreach d,$(HB_HAS_ZLIB),-I$(d))
   endif
   ifneq ($(HB_HAS_WATT),)
      HB_CFLAGS += -DHB_HAS_WATT $(foreach d,$(HB_HAS_WATT),-I$(d))
   endif

   include $(TOP)$(ROOT)config/lib.mk
   include $(TOP)$(ROOT)config/dir.mk
else
   $(error ! Error: zlib component required, but not available)
endif
